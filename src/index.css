@import url("https://fonts.googleapis.com/css2?family=Poppins&display=swap");
@tailwind base;
@tailwind components;
@tailwind utilities;

/* PISA Practice Platform - Sckool Branded Design System
   Blue, Green, White, Orange gradient theme
*/

@layer base {
  :root {
    /* Background - Smooth gradient base */
    --background: 210 40% 98%;
    --foreground: 220 20% 18%;

    /* Gradient colors for backgrounds */
    --gradient-blue: 210 75% 60%;
    --gradient-green: 155 55% 52%;
    --gradient-orange: 28 90% 58%;

    /* Surfaces */
    --surface: 210 35% 98%;
    --surface-variant: 220 28% 96%;

    /* Card System */
    --card: 0 0% 100%;
    --card-foreground: 220 18% 20%;
    --card-elevated: 210 25% 99%;

    /* Popover & Modal Surfaces */
    --popover: 0 0% 100%;
    --popover-foreground: 220 18% 20%;

    /* Primary - Sckool Blue */
    --primary: 217 91.2195% 59.8039%;
    --primary-foreground: 0 0% 100%;
    --primary-hover: 210 75% 48%;
    --primary-light: 210 75% 92%;
    --primary-glow: 210 75% 68%;

    /* Secondary - Sckool Green */
    --secondary: 155 55% 48%;
    --secondary-foreground: 0 0% 100%;
    --secondary-hover: 155 55% 42%;
    --secondary-light: 155 55% 90%;

    /* Accent - Sckool Orange */
    --accent: 15 91.2281% 55.2941%;
    --accent-foreground: 0 0% 100%;
    --accent-hover: 28 90% 48%;

    /* Neutral Tones */
    --muted: 220 22% 94%;
    --muted-foreground: 220 15% 48%;
    --muted-hover: 220 22% 90%;

    /* Status Colors */
    --success: 155 55% 48%;
    --success-foreground: 0 0% 100%;
    --warning: 40 90% 58%;
    --warning-foreground: 40 90% 15%;
    --destructive: 0 72% 58%;
    --destructive-foreground: 0 0% 100%;

    /* Input & Border System */
    --border: 220 22% 88%;
    --input: 220 22% 93%;
    --input-focus: 210 75% 55%;
    --ring: 210 75% 55%;

    /* Cloud Bubble Border Radius */
    --radius: 1.25rem;
    --radius-sm: 0.75rem;
    --radius-lg: 1.75rem;
    --radius-xl: 2.5rem;

    /* Glassy Shadows & Elevation */
    --shadow-sm: 0 2px 8px 0 hsl(210 50% 50% / 0.06);
    --shadow: 0 4px 16px 0 hsl(210 50% 50% / 0.1);
    --shadow-md: 0 8px 24px 0 hsl(210 50% 50% / 0.12);
    --shadow-lg: 0 12px 32px 0 hsl(210 50% 50% / 0.15);
    --shadow-xl: 0 20px 48px 0 hsl(210 50% 50% / 0.18);
    --shadow-cloud: 0 8px 40px 0 hsl(210 60% 60% / 0.12);

    /* Assessment Bubble Colors */
    --bubble-top: 210 35% 98%;
    --bubble-main: 0 0% 100%;
    --bubble-passage: 45 30% 99%;
    --bubble-question: 210 25% 99%;
    --answer-hover: 210 65% 96%;
    --answer-selected: 210 75% 94%;
    --question-nav-answered: 210 75% 90%;
    --question-nav-unanswered: 220 22% 94%;

    /* Typography Scale */
    --text-xs: 0.75rem;
    --text-sm: 0.875rem;
    --text-base: 1rem;
    --text-lg: 1.125rem;
    --text-xl: 1.25rem;
    --text-2xl: 1.5rem;
    --text-3xl: 1.875rem;
    --text-4xl: 2.25rem;

    /* Transitions */
    --transition-fast: 150ms cubic-bezier(0.4, 0, 0.2, 1);
    --transition-normal: 300ms cubic-bezier(0.4, 0, 0.2, 1);
    --transition-slow: 500ms cubic-bezier(0.4, 0, 0.2, 1);
  }

  .dark {
    --background: 220 22% 8%;
    --foreground: 220 15% 92%;
    --surface: 220 20% 12%;
    --surface-variant: 220 20% 16%;

    --card: 220 20% 12%;
    --card-foreground: 220 15% 92%;
    --card-elevated: 220 20% 14%;

    --popover: 220 20% 12%;
    --popover-foreground: 220 15% 92%;

    --primary: 210 75% 65%;
    --primary-foreground: 220 22% 8%;
    --primary-hover: 210 75% 70%;
    --primary-light: 210 75% 22%;

    --secondary: 155 55% 55%;
    --secondary-foreground: 220 22% 8%;
    --secondary-hover: 155 55% 60%;
    --secondary-light: 155 55% 22%;

    --accent: 28 90% 55%;
    --accent-foreground: 220 22% 8%;

    --muted: 220 20% 18%;
    --muted-foreground: 220 15% 62%;
    --muted-hover: 220 20% 22%;

    --success: 155 55% 55%;
    --warning: 40 90% 62%;
    --destructive: 0 72% 62%;

    --border: 220 20% 22%;
    --input: 220 20% 18%;
    --input-focus: 210 75% 65%;
    --ring: 210 75% 65%;

    --bubble-top: 220 20% 12%;
    --bubble-main: 220 20% 12%;
    --bubble-passage: 220 20% 14%;
    --bubble-question: 220 20% 13%;
    --answer-hover: 210 60% 18%;
    --answer-selected: 210 75% 22%;
    --question-nav-answered: 210 75% 35%;
    --question-nav-unanswered: 220 20% 18%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply text-foreground font-sans antialiased;
    background: linear-gradient(135deg, 
      hsl(210 40% 98%) 0%, 
      hsl(155 40% 96%) 25%,
      hsl(0 0% 100%) 50%,
      hsl(28 50% 97%) 75%,
      hsl(210 40% 97%) 100%
    );
    background-attachment: fixed;
    min-height: 100vh;
  }

  /* Typography defaults */
  h1, h2, h3, h4, h5, h6 {
    @apply font-poppins font-semibold leading-tight tracking-tight;
  }

  h1 { @apply text-4xl; }
  h2 { @apply text-3xl; }
  h3 { @apply text-2xl; }
  h4 { @apply text-xl; }
  h5 { @apply text-lg; }
  h6 { @apply text-base; }

  p, span, label {
    @apply font-nunito;
  }
}

@layer components {
  /* ============================================
     SCKOOL BRANDED GRADIENT BACKGROUNDS
     ============================================ */
  .sckool-gradient {
    background: linear-gradient(135deg, 
      hsl(210 75% 55% / 0.1) 0%, 
      hsl(155 55% 48% / 0.08) 25%,
      hsl(0 0% 100% / 0.95) 50%,
      hsl(28 90% 55% / 0.06) 75%,
      hsl(210 75% 55% / 0.08) 100%
    );
  }

  .sckool-gradient-strong {
    background: linear-gradient(135deg, 
      hsl(210 75% 55% / 0.15) 0%, 
      hsl(155 55% 48% / 0.12) 30%,
      hsl(0 0% 100%) 50%,
      hsl(28 90% 55% / 0.1) 70%,
      hsl(210 75% 55% / 0.12) 100%
    );
  }

  .sckool-header-gradient {
    background: linear-gradient(90deg, 
      hsl(210 75% 55%) 0%, 
      hsl(155 55% 48%) 50%,
      hsl(28 90% 55%) 100%
    );
  }

  /* ============================================
     PASSAGE TEXT - Serif for reading passages
     ============================================ */
  .passage-text {
    @apply font-passage text-foreground leading-relaxed;
    font-size: 1.05rem;
    line-height: 1.85;
    letter-spacing: 0.01em;
  }

  .passage-text p {
    @apply mb-5;
    text-indent: 0;
  }

  /* ============================================
     CLOUD BUBBLE COMPONENTS
     ============================================ */
  .cloud-bubble {
    @apply bg-card rounded-[2rem] shadow-cloud backdrop-blur-sm 
           border border-white/50 transition-all duration-300;
  }

  .cloud-bubble:hover {
    @apply shadow-lg;
  }

  .cloud-bubble-top {
    background: linear-gradient(135deg, hsl(var(--bubble-top) / 0.95), hsl(var(--card) / 0.9));
    @apply backdrop-blur-md rounded-[2.5rem] shadow-lg border border-white/60;
  }

  .cloud-bubble-main {
    @apply bg-bubble-main rounded-[2rem] shadow-xl border border-border/40;
  }

  /* ============================================
     NAVIGATION BUBBLE (Large clickable bubbles)
     ============================================ */
  .nav-bubble {
    @apply bg-card rounded-[2rem] p-6 shadow-cloud border border-white/50
           transition-all duration-300 cursor-pointer
           hover:shadow-lg hover:scale-[1.02] hover:-translate-y-1
           flex flex-col items-center justify-center gap-3 text-center
           min-h-[160px];
  }

  .nav-bubble:active {
    @apply scale-[0.98];
  }

  .nav-bubble-icon {
    @apply w-14 h-14 rounded-full bg-primary/10 flex items-center justify-center
           transition-all duration-300;
  }

  .nav-bubble:hover .nav-bubble-icon {
    @apply bg-primary/20 scale-110;
  }

  /* ============================================
     PASSAGE & QUESTION BUBBLES
     ============================================ */
  .passage-bubble {
    background: linear-gradient(180deg, hsl(var(--bubble-passage)), hsl(var(--card)));
    @apply rounded-[1.5rem] shadow-md p-6 
           border border-border/30;
  }

  .question-bubble {
    @apply bg-bubble-question rounded-[1.5rem] shadow-md p-5 
           border border-border/30;
  }

  /* ============================================
     QUESTION NAVIGATION BUBBLES
     ============================================ */
  .question-nav-bubble {
    @apply w-10 h-10 rounded-full flex items-center justify-center 
           font-semibold text-sm transition-all duration-200 cursor-pointer
           border-2 border-transparent;
  }

  .question-nav-bubble.answered {
    @apply bg-primary/20 text-primary border-primary/40;
  }

  .question-nav-bubble.unanswered {
    @apply bg-question-nav-unanswered text-muted-foreground;
  }

  .question-nav-bubble.active {
    @apply bg-primary text-primary-foreground ring-4 ring-primary/20;
  }

  .question-nav-bubble:hover:not(.active) {
    @apply scale-110;
  }

  /* ============================================
     ANSWER CARD BUBBLES
     ============================================ */
  .answer-card {
    @apply flex items-start gap-4 p-5 rounded-2xl border-2 border-border/60
           transition-all duration-200 cursor-pointer bg-card/50
           hover:border-primary/50 hover:bg-answer-hover hover:shadow-md;
  }

  .answer-card.selected {
    @apply bg-answer-selected border-primary shadow-md;
  }

  .answer-card:active {
    @apply scale-[0.99];
  }

  /* ============================================
     NAVIGATION BUTTONS
     ============================================ */
  .nav-btn {
    @apply px-8 py-3.5 rounded-2xl font-semibold transition-all duration-200
           shadow-md hover:shadow-lg focus:outline-none focus:ring-4 
           focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed;
  }

  .nav-btn-prev {
    @apply nav-btn bg-muted text-foreground hover:bg-muted-hover focus:ring-muted;
  }

  .nav-btn-next {
    @apply nav-btn bg-secondary text-secondary-foreground 
           hover:bg-secondary-hover focus:ring-secondary;
  }

  /* ============================================
     GLASSY INPUT FIELDS
     ============================================ */
  .input-glassy {
    @apply bg-white/70 backdrop-blur-sm border-2 border-border/50
           rounded-xl px-4 py-3 transition-all duration-200
           focus:border-primary focus:bg-white focus:shadow-md
           placeholder:text-muted-foreground/50;
  }

  /* ============================================
     STAT CARDS
     ============================================ */
  .stat-card {
    @apply bg-card rounded-[1.75rem] p-6 shadow-md border border-border/30
           hover:shadow-lg transition-all duration-200;
  }

  /* ============================================
     ROLE SELECTION BUBBLES (Landing Page)
     ============================================ */
  .role-bubble {
    @apply bg-card rounded-[3rem] p-10 shadow-bubble border border-white/60
           transition-all duration-300 cursor-pointer
           hover:shadow-bubble-hover hover:scale-[1.03] hover:-translate-y-2
           flex flex-col items-center justify-center gap-6 text-center
           min-w-[280px] min-h-[320px];
  }

  .role-bubble:active {
    @apply scale-[0.98];
  }

  .role-bubble-icon {
    @apply w-24 h-24 rounded-full flex items-center justify-center
           transition-all duration-300;
  }

  .role-bubble:hover .role-bubble-icon {
    @apply scale-110;
  }

  /* ============================================
     FROSTED GLASS EFFECT
     ============================================ */
  .frosted-glass {
    @apply bg-white/60 backdrop-blur-md border border-white/40;
  }

  /* ============================================
     BRANDED HEADER
     ============================================ */
  .branded-header {
    background: linear-gradient(135deg, 
      hsl(210 75% 55% / 0.95) 0%, 
      hsl(155 55% 48% / 0.9) 50%,
      hsl(28 90% 55% / 0.85) 100%
    );
    @apply text-white shadow-lg;
  }

  /* ============================================
     ANIMATIONS
     ============================================ */
  .animate-float {
    animation: float 3s ease-in-out infinite;
  }

  .animate-enter {
    animation: fade-in 0.4s ease-out, scale-in 0.3s ease-out;
  }

  /* Stagger animation delays */
  .stagger-1 { animation-delay: 0.1s; }
  .stagger-2 { animation-delay: 0.2s; }
  .stagger-3 { animation-delay: 0.3s; }
  .stagger-4 { animation-delay: 0.4s; }
}